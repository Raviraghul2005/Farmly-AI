# ============================================
# FARMLY AI - BACKEND ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your actual values
# See docs/CLOUD_SETUP.md for detailed setup instructions

# ============================================
# SERVER CONFIGURATION
# ============================================
NODE_ENV=development
PORT=4000

# ============================================
# DATABASE - MONGODB ATLAS
# ============================================
# Get from: https://cloud.mongodb.com
# 1. Create M0 Free Cluster
# 2. Database Access → Create user with password
# 3. Network Access → Add IP: 0.0.0.0/0
# 4. Connect → Get connection string
# IMPORTANT: URL-encode special characters in password (@→%40, #→%23, etc.)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/farmly_ai?retryWrites=true&w=majority

# ============================================
# CACHE - REDIS CLOUD
# ============================================
# Get from: https://redis.com/try-free/
# 1. Create Free 30MB Database
# 2. Configuration → Copy endpoint and password
# Format: redis://default:PASSWORD@HOST:PORT
REDIS_URL=redis://default:password@redis-host:port

# ============================================
# AUTHENTICATION - JWT
# ============================================
# Generate secure secrets using:
# node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# SMS SERVICE - TWILIO
# ============================================
# Get from: https://www.twilio.com/console
# 1. Create account (free trial includes credits)
# 2. Get a phone number
# 3. Copy Account SID and Auth Token
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ============================================
# VOICE - GOOGLE CLOUD (STT & TTS)
# ============================================
# Get from: https://console.cloud.google.com
# 1. Create new project
# 2. Enable APIs: Cloud Speech-to-Text API, Cloud Text-to-Speech API
# 3. Create Service Account with roles: Speech Admin, Text-to-Speech Admin
# 4. Create JSON key → Download to backend/credentials/
# 5. Set absolute path to JSON key file below
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_CLOUD_CREDENTIALS=/absolute/path/to/service-account-key.json

# ============================================
# WEATHER - OPENWEATHERMAP
# ============================================
# Get from: https://openweathermap.org/api
# 1. Create free account
# 2. My API Keys → Generate API key
# 3. Wait 10 minutes for activation
OPENWEATHER_API_KEY=your-openweather-api-key

# ============================================
# MARKET PRICES - AGMARKNET (OPTIONAL)
# ============================================
# Get from: https://data.gov.in
# 1. Register account
# 2. Request API access for Agmarknet
# Note: Currently using fallback to Gemini if not available
AGMARKNET_API_KEY=your-agmarknet-api-key

# ============================================
# AI - GOOGLE GEMINI (BACKUP)
# ============================================
# Get from: https://aistudio.google.com/app/apikey
# 1. Create API key
# 2. Used as backup for market price analysis
GEMINI_API_KEY=your-gemini-api-key

# ============================================
# AI - GROQ (PRIMARY FOR MARKET PRICES)
# ============================================
# Get from: https://console.groq.com/keys
# 1. Create free account
# 2. Generate API key
# 3. Used for fast market price generation with llama-3.1-8b-instant
GROQ_API_KEY=your-groq-api-key

# ============================================
# ML SERVICE
# ============================================
# Local development: http://localhost:8000
# Production: https://your-ml-service.up.railway.app
ML_SERVICE_URL=http://localhost:8000

# ============================================
# FILE STORAGE - VERCEL BLOB
# ============================================
# Get from: https://vercel.com/dashboard/stores
# 1. Create Blob Store
# 2. Copy Read-Write Token
# Used for storing disease detection images
BLOB_READ_WRITE_TOKEN=your-vercel-blob-token

# ============================================
# DEMO MODE (TESTING ONLY)
# ============================================
# Set to 'true' to enable demo mode:
# - Demo accounts use fixed OTP: 123456
# - No SMS sent (saves Twilio credits)
# - Perfect for hackathon demos and local testing
# WARNING: Never enable in production!
DEMO_MODE=false
